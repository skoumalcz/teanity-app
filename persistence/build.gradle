plugins {
    id("com.android.library")
    id("kotlin-android")
    id("kotlin-android-extensions")
    id("kotlin-kapt")
}

android {
    defaultConfig.javaCompileOptions.annotationProcessorOptions.includeCompileClasspath = true
}

kapt {
    correctErrorTypes true
    useBuildCache true
    mapDiagnosticLocations true

    arguments { arg("room.schemaLocation", "$projectDir/schemas") }

    javacOptions { option("-Xmaxerrs", 1000) }
}

dependencies {
    api(Lib.teanity("persistence", "one.zero-SNAPSHOT"))

    implementation(project(":model"))
    implementation(Lib.koin.core)

    kapt(Lib.androidx.roomCompiler)
    kapt(Lib.androidx.lifecycleCompiler)
}